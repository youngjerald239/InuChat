(this.webpackJsonpchatify=this.webpackJsonpchatify||[]).push([[0],{148:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(17),i=a.n(o),l=(a(148),a(12)),r=a(224),s=a(58),d=a(235),u=a(234),j=a(227),b=a(248),p=a(245),h=a(225),m=a(117),x=a.n(m),g=a(232),f=a(68),O=a(8),v=a(19),y=a(118),C=a.n(y),N=a(236),k=a(128),S=a(230),w=a(247),I=a(233),T=a(231),D=a(221),B=a(169),L=a(228),E=a(226),R=a(229),z=a(115),M=a.n(z),U=a(116),A=a.n(U),W=a(113),H=a.n(W),P=a(47),F=(a(149),a(166),a(165),new P.a.auth.GoogleAuthProvider),G=P.a.initializeApp({apiKey:"AIzaSyDoN-nSGUo_1h87nkOXSXX2vv4IBXBXey0",authDomain:"chatify-49.firebaseapp.com",projectId:"chatify-49",storageBucket:"chatify-49.appspot.com",messagingSenderId:"1034185885241",appId:"1:1034185885241:web:a46af138b7a40d318defe8",measurementId:"G-EHQ2YBVYY9"}).firestore(),J=P.a.auth(),q=P.a.storage(),Y=a(23),X=a(114),_=a(84),K=a(223),Q=a(215),V=a(222),Z=a(219),$=a(243),ee=a(218),te=a(4);var ae=function(e){var t=e.create,a=e.manage,c=Object(n.useState)(!0),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(""),d=Object(l.a)(s,2),u=d[0],j=d[1],b=function(){r(!1),a()},p=function(e){e.preventDefault(),u&&(t(u),a())};return Object(te.jsx)("div",{children:Object(te.jsxs)(Q.a,{open:i,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(te.jsx)(ee.a,{id:"alert-dialog-title",children:"Create A New Inu Channel"}),Object(te.jsx)(Z.a,{children:Object(te.jsx)("form",{autoComplete:"off",onSubmit:p,children:Object(te.jsx)($.a,{id:"outlined-basic",label:"Enter Inu Channel Name",fullWidth:!0,margin:"normal",variant:"outlined",required:!0,value:u,style:{backgroundColor:"rgb(45 45 73)",borderRadius:"5px"},onChange:function(e){j(e.target.value)}})})}),Object(te.jsxs)(V.a,{children:[Object(te.jsx)(K.a,{onClick:b,color:"primary",style:{color:"white"},children:"Cancel"}),Object(te.jsx)(K.a,{onClick:function(e){p(e)},type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Create\ud83d\udc15"})]})]})})},ne=a(130),ce=a(246),oe=a(83),ie=a.n(oe),le=Object(r.a)((function(e){return{nested:{paddingLeft:e.spacing(4)},iconDesign:{fontSize:"1.5em",color:"#cb43fc"},primary:{color:"#cb43fc"}}}));var re=function(){var e=le(),t=c.a.useState(!0),a=Object(l.a)(t,2),o=a[0],i=a[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),d=s[0],u=s[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),m=p[0],x=p[1],g=Object(Y.f)(),f=Object(n.useState)(!1),O=Object(l.a)(f,2),v=O[0],y=O[1];Object(n.useEffect)((function(){G.collection("channels").orderBy("channelName","asc").onSnapshot((function(e){u(e.docs.map((function(e){return{channelName:e.data().channelName,id:e.id}})))}))}),[]);var C=function(){x(!m)},N=function(){y(!v)};return Object(te.jsxs)("div",{children:[Object(te.jsx)(ce.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:v,onClose:N,TransitionComponent:ne.a,message:"Room Name Already Exits!!",action:Object(te.jsx)(h.a,{"aria-label":"close",color:"inherit",onClick:N,children:Object(te.jsx)(ie.a,{})})},ne.a),m?Object(te.jsx)(ae,{create:function(e){if(e){e=e.toLowerCase();for(var t=0;t<d.length;t++)if(e===d[t].channelName)return void N();G.collection("channels").add({channelName:e.toLowerCase()}).then((function(e){console.log("added new channel")})).then((function(e){console.log(e)}))}},manage:C}):null,Object(te.jsxs)(B.a,{style:{paddingTop:0,paddingBottom:0},children:[Object(te.jsx)(E.a,{primary:"Create New Channel",style:{color:"#C26373"}}),Object(te.jsx)(h.a,{edge:"end","aria-label":"add",onClick:C,children:Object(te.jsx)(H.a,{className:e.primary})})]}),Object(te.jsx)(j.a,{}),Object(te.jsxs)(D.a,{component:"nav","aria-labelledby":"nested-list-subheader",children:[Object(te.jsxs)(B.a,{button:!0,onClick:function(){i(!o)},children:[Object(te.jsx)(L.a,{children:Object(te.jsx)(X.a,{className:e.iconDesign})}),Object(te.jsx)(E.a,{primary:"CHANNELS",style:{color:"#8e9297"}}),o?Object(te.jsx)(M.a,{className:e.primary}):Object(te.jsx)(A.a,{className:e.primary})]}),Object(te.jsx)(R.a,{in:o,timeout:"auto",children:Object(te.jsx)(D.a,{component:"div",disablePadding:!0,children:d.map((function(t){return Object(te.jsxs)(B.a,{button:!0,className:e.nested,onClick:function(){return e=t.id,void g.push("/channel/".concat(e));var e},children:[Object(te.jsx)(L.a,{style:{minWidth:"30px"},children:Object(te.jsx)(_.a,{className:e.iconDesign,style:{color:"#b9bbbe"}})}),Object(te.jsx)(E.a,{primary:t.channelName,style:{color:"#C26373"}})]},t.id)}))})})]})]})},se=a(120),de=a(119),ue=a(46);var je=function(e){var t=e.toggler,a=e.alert,c=Object(n.useState)(!0),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(""),d=Object(l.a)(s,2),u=d[0],j=d[1],b=Object(n.useState)(""),p=Object(l.a)(b,2),h=p[0],m=p[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),f=g[0],O=g[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),C=y[0],N=y[1],k=function(){r(!1),t()};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userDetails"));j(e.name),m(e.displayName),O(e.email),N(e.uid)}),[]),Object(te.jsx)("div",{children:Object(te.jsxs)(Q.a,{open:i,onClose:k,"aria-labelledby":"form-dialog-title",children:[Object(te.jsx)(ee.a,{id:"form-dialog-title",children:"Edit User Profile"}),Object(te.jsx)(Z.a,{children:Object(te.jsxs)("form",{autoComplete:"off",children:[Object(te.jsx)($.a,{id:"outlined-basic",label:"Name",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!0,value:u,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"#a6a6a6"}}),Object(te.jsx)($.a,{id:"outlined-basic",label:"Email",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!0,value:f,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"#a6a6a6"}}),Object(te.jsx)($.a,{id:"outlined-basic",label:"Display Name",fullWidth:!0,margin:"normal",variant:"outlined",value:h,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:function(e){m(e.target.value)}})]})}),Object(te.jsxs)(V.a,{children:[Object(te.jsx)(K.a,{onClick:k,style:{color:"white"},children:"Cancel"}),Object(te.jsx)(K.a,{onClick:function(e){return function(e){e.preventDefault(),G.collection("users").doc(C).update({displayName:h}).then((function(e){a()})).catch((function(e){console.log(e)})),r(!1),t()}(e)},color:"primary",variant:"contained",children:"Update\ud83d\udc15"})]})]})})},be=240,pe=Object(O.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(S.a),he=Object(r.a)((function(e){var t;return{root:{display:"flex"},avatarGrid:{paddingTop:"20px",paddingLeft:"5px",paddingBottom:"20px",color:"#dcddde"},avatarIcon:{display:"flex",paddingLeft:"10px",paddingRight:"10px"},avatarName:{fontSize:"1em",paddingLeft:"12px",paddingTop:"8px"},avatarDisplayName:{alignSelf:"center",paddingLeft:"10px",fontWeight:"600"},purple:{color:e.palette.getContrastText(T.a[500]),backgroundColor:"#3f51b5"},drawer:Object(s.a)({},e.breakpoints.up("sm"),{width:be,flexShrink:0}),appBar:(t={},Object(s.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(be,"px)"),marginLeft:be}),Object(s.a)(t,"backgroundColor","#22273b"),Object(s.a)(t,"color","#dcddde"),Object(s.a)(t,"boxShadow","0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);"),t),menuButton:Object(s.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:be,backgroundColor:"#171c2e",color:"white"},sideToolBar:{backgroundColor:"#171c2e",color:"#fff",lineHeight:1.6,boxShadow:"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);",minHeight:"50px"},sideToolBarText:{letterSpacing:"0.2em",fontWeight:"900"},title:{flexGrow:1}}}));var me=function(e){var t=e.window,a=e.uid,o=he(),i=Object(v.a)(),r=c.a.useState(!1),s=Object(l.a)(r,2),m=s[0],O=s[1],y=c.a.useState(null),S=Object(l.a)(y,2),T=S[0],D=S[1],B=Object(n.useState)([]),L=Object(l.a)(B,2),E=L[0],R=L[1],z=Object(n.useState)(!1),M=Object(l.a)(z,2),U=M[0],A=M[1],W=Object(n.useState)(!1),H=Object(l.a)(W,2),P=H[0],F=H[1],q=Boolean(T);Object(n.useEffect)((function(){G.collection("users").doc(a).onSnapshot((function(e){R(e.data()),localStorage.setItem("userDetails",JSON.stringify(e.data()))}))}),[a]);var Y=function(){O(!m)},X=function(){A(!U)},_=function(){F(!P)},K=E&&Object(te.jsxs)("div",{children:[Object(te.jsx)(g.a,{className:o.sideToolBar,children:Object(te.jsx)(f.a,{variant:"h6",className:o.sideToolBarText,children:"\ud83d\udc15InuChat"})}),Object(te.jsx)(j.a,{}),Object(te.jsxs)(I.a,{className:o.avatarGrid,children:[Object(te.jsxs)("div",{className:o.avatarIcon,children:[Object(te.jsx)(pe,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(te.jsx)(w.a,{alt:E.name,src:E.photoURL,className:o.purple})}),Object(te.jsx)(f.a,{variant:"h6",className:o.avatarDisplayName,children:E.displayName})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)(f.a,{variant:"h4",className:o.avatarName,children:E.name}),Object(te.jsx)(f.a,{variant:"h4",className:o.avatarName,children:E.email})]})]}),Object(te.jsx)(j.a,{}),Object(te.jsx)(re,{}),Object(te.jsx)(j.a,{})]}),Q=void 0!==t?function(){return t().document.body}:void 0;return Object(te.jsxs)("div",{className:o.root,children:[Object(te.jsx)(u.a,{}),Object(te.jsx)(ce.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:P,onClose:_,TransitionComponent:ne.a,message:"Display Name Updated Successfully",action:Object(te.jsx)(h.a,{"aria-label":"close",color:"inherit",onClick:_,children:Object(te.jsx)(ie.a,{})})},ne.a),U?Object(te.jsx)(je,{toggler:X,alert:_}):null,Object(te.jsx)(d.a,{position:"fixed",className:o.appBar,children:Object(te.jsxs)(g.a,{style:{minHeight:"50px"},children:[Object(te.jsx)(h.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:Y,className:o.menuButton,children:Object(te.jsx)(x.a,{})}),Object(te.jsx)(f.a,{variant:"h6",className:o.title,children:Object(te.jsx)(ue.b,{to:"/",style:{textDecoration:"none",color:"#dcddde"},children:"Home\ud83d\udc15"})}),Object(te.jsxs)("div",{children:[Object(te.jsx)(h.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){D(e.currentTarget)},color:"inherit",children:Object(te.jsx)(C.a,{})}),Object(te.jsxs)(k.a,{id:"menu-appbar",anchorEl:T,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:q,onClose:function(){D(null)},children:[Object(te.jsxs)(N.a,{onClick:X,children:[Object(te.jsx)(de.a,{})," \xa0 Edit Profile"]}),Object(te.jsxs)(N.a,{onClick:function(){J.signOut().then((function(){console.log("signed out"),localStorage.clear()})).catch((function(e){console.log(e)}))},children:[Object(te.jsx)(se.a,{})," \xa0 Sign Out of InuChat\ud83d\udc15"]})]})]})]})}),Object(te.jsxs)("nav",{className:o.drawer,"aria-label":"chat rooms",children:[Object(te.jsx)(p.a,{smUp:!0,implementation:"css",children:Object(te.jsx)(b.a,{container:Q,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:m,onClose:Y,classes:{paper:o.drawerPaper},ModalProps:{keepMounted:!0},children:K})}),Object(te.jsx)(p.a,{xsDown:!0,implementation:"css",children:Object(te.jsx)(b.a,{classes:{paper:o.drawerPaper},variant:"permanent",open:!0,children:K})})]})]})},xe=a(38),ge=a(237);var fe=function(e){var t=e.msgId,a=e.text,c=e.deleteMsg,o=e.handleModal,i=e.postImg,r=Object(n.useState)(!0),s=Object(l.a)(r,2),d=s[0],u=s[1],j=function(){u(!1),o()};return Object(te.jsx)("div",{children:Object(te.jsxs)(Q.a,{open:d,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(te.jsx)(ee.a,{id:"alert-dialog-title",children:"Are you sure you want to delete the message?"}),Object(te.jsxs)(Z.a,{children:[Object(te.jsx)(ge.a,{id:"alert-dialog-description",style:{color:"white",fontSize:"1.2rem"},children:a}),i?Object(te.jsx)("img",{src:i,alt:"img",style:{height:"200px",width:"250px",borderRadius:"4px"}}):null]}),Object(te.jsxs)(V.a,{children:[Object(te.jsx)(K.a,{onClick:j,style:{color:"white"},children:"Cancel"}),Object(te.jsx)(K.a,{onClick:function(){c(t),o()},color:"primary",autoFocus:!0,variant:"contained",children:"Delete"})]})]})})},Oe=a(121),ve=Object(r.a)((function(e){return{root:{flexGrow:1,position:"relative",padding:"8px"},paper:{padding:"10px","&:hover":{backgroundColor:"#1f2436"}},avatar:{display:"inline-block",verticalAlign:"top"},chat:{display:"inline-block",paddingLeft:"1rem",width:"calc(100% - 50px)"},chatHeading:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",fontSize:"1rem",fontWeight:"600",color:"white"},chatTimming:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",paddingLeft:"0.5em",color:"white"},chatText:{color:"#dcddde"},purple:{color:e.palette.getContrastText(T.a[500]),backgroundColor:"#3f51b5"},emojiDiv:{position:"absolute",right:0,top:0},emojiDivInner:{position:"absolute",right:0,padding:"0 35px 0 32px"},emojiBtn:{fontSize:"1.1rem",color:"rgb(255 195 54)"},allEmoji:{backgroundColor:"#2d2e31ba",borderRadius:"5px",paddingLeft:"2px",paddingRight:"2px",display:"flex"},countEmojiBtn:{padding:"3px",borderRadius:"4px",fontSize:"0.8em",backgroundColor:"#ffffff4a",color:"#cacaca",paddingLeft:"5px",paddingRight:"5px","&:hover":{backgroundColor:"#ffffff4a",color:"#e7e7e7"}}}}));var ye=function(e){var t=e.values,a=e.msgId,c=Object(n.useState)({display:"none"}),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(!1),d=Object(l.a)(s,2),u=d[0],j=d[1],b=ve(),p=JSON.parse(localStorage.getItem("userDetails")).uid,m=t.uid,x=t.timestamp.toDate(),g=x.getDate(),f=x.getFullYear(),O=x.getMonth(),v=x.getHours(),y=x.getMinutes(),C="".concat(g,"/").concat(O,"/").concat(f,"   ").concat(v,":").concat(y),N=t.likeCount,k=t.fireCount,S=t.heartCount,T=t.likes[p],D=t.fire[p],B=t.heart[p],L=t.postImg,E=Object(Y.g)().id,R=T?{color:"#8ff879",backgroundColor:"#545454"}:null,z=B?{color:"#ff527d",backgroundColor:"#545454"}:null,M=D?{color:"#ffc336",backgroundColor:"#545454"}:null,U=function(){j(!u)},A=function(){var e=G.collection("channels").doc(E).collection("messages").doc(a);return B?G.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().heartCount-1,c=a.data().heart?a.data().heart:{};c[p]=!1,t.update(e,{heartCount:n,heart:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):G.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().heartCount+1,c=a.data().heart?a.data().heart:{};c[p]=!0,t.update(e,{heartCount:n,heart:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))},W=function(){var e=G.collection("channels").doc(E).collection("messages").doc(a);return D?G.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().fireCount-1,c=a.data().fire?a.data().fire:{};c[p]=!1,t.update(e,{fireCount:n,fire:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):G.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().fireCount+1,c=a.data().fire?a.data().fire:{};c[p]=!0,t.update(e,{fireCount:n,fire:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))},H=function(){var e=G.collection("channels").doc(E).collection("messages").doc(a);return T?G.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().likeCount-1,c=a.data().likes?a.data().likes:{};c[p]=!1,t.update(e,{likeCount:n,likes:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):G.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().likeCount+1,c=a.data().likes?a.data().likes:{};c[p]=!0,t.update(e,{likeCount:n,likes:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))};return Object(te.jsxs)(I.a,{item:!0,xs:12,className:b.root,children:[u?Object(te.jsx)(fe,{msgId:a,text:t.text,postImg:L,deleteMsg:function(e){G.collection("channels").doc(E).collection("messages").doc(e).delete().then((function(e){console.log("deleted successfully")})).catch((function(e){console.log(e)}))},handleModal:U}):null,Object(te.jsxs)("div",{className:b.paper,onMouseEnter:function(e){r({display:"block"})},onMouseLeave:function(e){r({display:"none"})},children:[Object(te.jsx)("div",{className:b.avatar,children:Object(te.jsx)(w.a,{alt:t.userName,src:t.userImg,className:b.purple})}),Object(te.jsxs)("div",{className:b.chat,children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("h6",{className:b.chatHeading,children:t.userName}),Object(te.jsx)("p",{className:b.chatTimming,children:C})]}),Object(te.jsx)("div",{className:b.chatText,children:t.text.split("\n").map((function(e,t){return Object(te.jsx)("div",{children:Object(te.jsx)(Oe.a,{target:"_blank",rel:"noreferrer noopener",children:e})},t)}))}),Object(te.jsx)(I.a,{item:!0,xs:12,md:12,style:{paddingTop:"5px"},children:L?Object(te.jsx)("img",{src:L,alt:"user",style:{height:"30vh",width:"auto",borderRadius:"4px"}}):null}),Object(te.jsxs)("div",{style:{paddingTop:"5px",display:"flex"},children:[N>0?Object(te.jsx)("div",{style:{padding:"3px"},children:Object(te.jsxs)(h.a,{component:"span",onClick:H,className:b.countEmojiBtn,style:R,children:[Object(te.jsx)(xe.d,{}),Object(te.jsx)("div",{style:{paddingLeft:"2px"},children:N})]})}):null,k>0?Object(te.jsx)("div",{style:{padding:"3px"},children:Object(te.jsxs)(h.a,{component:"span",onClick:W,className:b.countEmojiBtn,style:M,children:[Object(te.jsx)(xe.b,{}),Object(te.jsx)("div",{style:{paddingLeft:"2px"},children:k})]})}):null,S>0?Object(te.jsx)("div",{style:{padding:"3px"},children:Object(te.jsxs)(h.a,{component:"span",onClick:A,className:b.countEmojiBtn,style:z,children:[Object(te.jsx)(xe.c,{}),Object(te.jsx)("div",{style:{paddingLeft:"2px"},children:S})]})}):null]})]}),Object(te.jsx)("div",{className:b.emojiDiv,style:i,children:Object(te.jsx)("div",{className:b.emojiDivInner,children:Object(te.jsxs)("div",{className:b.allEmoji,children:[Object(te.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:H,children:Object(te.jsx)(xe.d,{className:b.emojiBtn})}),Object(te.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:W,children:Object(te.jsx)(xe.b,{className:b.emojiBtn})}),Object(te.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:A,children:Object(te.jsx)(xe.c,{className:b.emojiBtn})}),p===m?Object(te.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:U,children:Object(te.jsx)(xe.a,{className:b.emojiBtn,color:"#c3c3c3f0"})}):null]})})})]})]})},Ce=a(122),Ne=a(125),ke=a(124),Se=a(127),we=a(123),Ie=a(238),Te=a(244),De=Object(r.a)((function(e){return{displayImage:{height:"105px",width:"180px"},imageName:{paddingLeft:"15px",fontSize:"1.3em"},imageDiv:{marginLeft:"16px",marginRight:"16px",marginTop:"-33px"}}}));var Be=function(e){var t=e.setState,a=e.file,c=Object(Y.g)(),o=De(),i=Object(n.useState)(!0),r=Object(l.a)(i,2),s=r[0],d=r[1],u=Object(n.useState)(0),j=Object(l.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)({display:"none"}),m=Object(l.a)(h,2),x=m[0],g=m[1],O=Object(n.useState)(""),v=Object(l.a)(O,2),y=v[0],C=v[1],N=function(){d(!1),t()},k=URL.createObjectURL(a),S=function(e){e.preventDefault(),g({display:"block"});var t=q.ref("images/".concat(a.name)).put(a);t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;p(t)}),(function(e){console.log(e)}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){!function(e){if(c.id){var t=JSON.parse(localStorage.getItem("userDetails"));if(t){var a=t.displayName,n=t.photoURL,o=t.uid,i=e,l={text:y,timestamp:P.a.firestore.Timestamp.now(),userImg:n,userName:a,uid:o,likeCount:0,likes:{},fireCount:0,fire:{},heartCount:0,heart:{},postImg:i};G.collection("channels").doc(c.id).collection("messages").add(l).then((function(e){console.log("message sent")})).catch((function(e){console.log(e)}))}C("")}}(e)})),N()}))};return Object(te.jsx)("div",{children:Object(te.jsxs)(Q.a,{open:s,onClose:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(te.jsxs)("div",{className:o.imageDiv,children:[Object(te.jsx)("img",{src:k,alt:a.name,className:o.displayImage}),Object(te.jsx)(f.a,{className:o.imageName,children:a.name})]}),Object(te.jsx)(ee.a,{id:"alert-dialog-title",children:"Upload Image"}),Object(te.jsxs)(Z.a,{children:[Object(te.jsx)("form",{autoComplete:"off",onSubmit:function(e){S(e)},children:Object(te.jsx)($.a,{id:"outlined-basic",label:"Add A Message",fullWidth:!0,margin:"normal",variant:"outlined",style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:function(e){C(e.target.value)}})}),Object(te.jsx)("div",{style:x,children:Object(te.jsxs)(Te.a,{display:"flex",alignItems:"center",children:[Object(te.jsx)(Te.a,{width:"100%",mr:1,children:Object(te.jsx)(Ie.a,{variant:"determinate",value:b})}),Object(te.jsx)(Te.a,{minWidth:35,children:Object(te.jsxs)(f.a,{variant:"body2",children:[Math.round(b),"%"]})})]})})]}),Object(te.jsxs)(V.a,{children:[Object(te.jsx)(K.a,{onClick:N,style:{color:"white"},children:"Cancel"}),Object(te.jsx)(K.a,{type:"submit",onClick:function(e){return S(e)},color:"primary",autoFocus:!0,variant:"contained",children:"Upload\ud83d\udc15"})]})]})})},Le=(a(162),Object(r.a)((function(e){return{root:{flexGrow:1},chat:{position:"relative",height:"calc(100vh - 200px)",paddingLeft:"10px",paddingBottom:"5px",paddingTop:"5px"},footer:{paddingRight:"15px",paddingLeft:"15px",paddingTop:"10px"},message:{width:"100%",color:"white"},roomName:{border:"1px solid #0000004a",borderLeft:0,borderRight:0,padding:"15px",display:"flex",color:"#e5e5e5"},roomNameText:{marginBlockEnd:0,marginBlockStart:0,paddingLeft:"5px"},iconDesign:{fontSize:"1.5em",color:"#e5e5e5"},footerContent:{display:"flex",backgroundColor:"#303753",borderRadius:"5px",alignItems:"center"},inputFile:{display:"none"}}})));var Ee=function(){var e=Le(),t=Object(Y.g)(),a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),d=s[0],u=s[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),p=b[0],m=b[1],x=Object(n.useState)(!1),g=Object(l.a)(x,2),f=g[0],O=g[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),C=y[0],N=y[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),w=S[0],T=S[1];Object(n.useEffect)((function(){t.id&&(G.collection("channels").doc(t.id).onSnapshot((function(e){u(e.data().channelName)})),G.collection("channels").doc(t.id).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})))}),[t]);var D=function(){N(!C)};return Object(te.jsxs)("div",{className:e.root,children:[C?Object(te.jsx)(Be,{setState:D,file:w}):null,Object(te.jsxs)(I.a,{item:!0,xs:12,className:e.roomName,children:[Object(te.jsx)(_.a,{className:e.iconDesign}),Object(te.jsx)("h3",{className:e.roomNameText,children:d})]}),Object(te.jsx)(I.a,{item:!0,xs:12,className:e.chat,children:Object(te.jsx)(Ce.a,{children:o.map((function(e){return Object(te.jsx)(ye,{values:e.data,msgId:e.id},e.id)}))})}),Object(te.jsx)("div",{className:e.footer,children:Object(te.jsxs)(I.a,{item:!0,xs:12,className:e.footerContent,children:[Object(te.jsx)("input",{accept:"image/*",className:e.inputFile,id:"icon-button-file",type:"file",onChange:function(e){return function(e){e.preventDefault(),e.target.files[0]&&(T(e.target.files[0]),D()),e.target.value=null}(e)}}),Object(te.jsx)("label",{htmlFor:"icon-button-file",children:Object(te.jsx)(h.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(te.jsx)(we.a,{style:{color:"#b9bbbe"}})})}),Object(te.jsx)(h.a,{color:"primary",component:"button",onClick:function(){return O(!f)},children:Object(te.jsx)(ke.a,{style:{color:"#b9bbbe"}})}),f?Object(te.jsx)(Se.a,{onSelect:function(e){m(p+e.native)},theme:"dark"}):null,Object(te.jsxs)("form",{autoComplete:"off",style:{width:"100%",display:"flex"},onSubmit:function(e){return function(e){if(e.preventDefault(),p&&t.id){var a=JSON.parse(localStorage.getItem("userDetails"));if(a){var n=a.displayName,c=a.photoURL,o=a.uid,i={text:p,timestamp:P.a.firestore.Timestamp.now(),userImg:c,userName:n,uid:o,likeCount:0,likes:{},fireCount:0,fire:{},heartCount:0,heart:{},postImg:null};G.collection("channels").doc(t.id).collection("messages").add(i).then((function(e){console.log("message sent")})).catch((function(e){console.log(e)}))}m(""),O(!1)}}(e)},children:[Object(te.jsx)($.a,{className:e.message,required:!0,id:"outlined-basic",label:"Enter Message",variant:"outlined",multiline:!0,rows:1,rowsMax:2,value:p,onChange:function(e){m(e.target.value)}}),Object(te.jsx)(h.a,{type:"submit",component:"button",children:Object(te.jsx)(Ne.a,{style:{color:"#b9bbbe"}})})]})]})})]})},Re=a(126),ze=a(239),Me=Object(r.a)((function(e){return{root:{boxShadow:"0 0 15px rgb(7 15 63 / 33%)",backgroundColor:"blue",color:"white"},paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:"25px",paddingTop:"35px"},mainImg:{width:"100%",height:"auto"},submit:{margin:e.spacing(3,0,2),color:"#d9d9d9"}}}));var Ue=function(){var e=Me();return Object(te.jsx)(ze.a,{component:"div",maxWidth:"xs",className:e.root,children:Object(te.jsxs)("div",{className:e.paper,children:[Object(te.jsx)("img",{src:"https://i.imgur.com/gzYy9qt.png",className:e.mainImg,alt:"signup img"}),Object(te.jsx)(f.a,{variant:"h4",style:{paddingTop:"15px",color:"#C26373"},children:"Sign In To InuChat"}),Object(te.jsx)(K.a,{variant:"outlined",color:"primary",className:e.submit,startIcon:Object(te.jsx)(Re.a,{}),onClick:function(){J.signInWithPopup(F).then((function(e){console.log("Success")})).catch((function(e){console.log(e)}))},children:"Sign In With Google\ud83d\udc15"})]})})},Ae=a(240),We=a(241),He=a(242),Pe=Object(r.a)((function(e){return{root:{paddingTop:"50px",paddingBottom:"25px",color:"#f0f0f0"},heading:{fontSize:"2.2em",fontWeight:"700"},subHeading:{fontSize:"1.6em"},channelDiv:{padding:"15px"},channelContent:{display:"flex",flexDirection:"column",textAlign:"center",padding:"20px",alignItems:"center"},square:{height:"80px",width:"80px",backgroundColor:"#8fabbd66",fontSize:"2rem"},rootChannel:{height:"calc(100vh - 185px)",position:"relative",padding:"15px",overflowY:"scroll"},channelText:{paddingTop:"10px",fontSize:"1.2rem"},channelCard:{backgroundColor:"#1e2439",boxShadow:"0px 3px 4px -1px rgb(0 0 0 / 17%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",color:"rgb(220, 221, 222)"}}}));var Fe=function(){var e=Pe(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(Y.f)();return Object(n.useEffect)((function(){G.collection("channels").orderBy("channelName","asc").onSnapshot((function(e){o(e.docs.map((function(e){return{channelName:e.data().channelName,id:e.id}})))}))}),[]),Object(te.jsxs)("div",{style:{backgroundColor:"black"},children:[Object(te.jsx)(I.a,{container:!0,className:e.root,children:Object(te.jsxs)(I.a,{item:!0,xs:12,style:{textAlign:"center"},children:[Object(te.jsx)(f.a,{component:"h1",className:e.heading,style:{color:"#C26373"},children:"Welcome to InuChat"}),Object(te.jsx)(f.a,{component:"h1",className:e.subHeading,children:"Hang out and connect freely with your friends!"})]})}),Object(te.jsx)(I.a,{container:!0,className:e.rootChannel,children:c.map((function(t){return Object(te.jsx)(I.a,{item:!0,xs:6,md:4,className:e.channelDiv,children:Object(te.jsx)(Ae.a,{className:e.channelCard,children:Object(te.jsx)(We.a,{style:{display:"flex",backgroundColor:""},onClick:function(){return e=t.id,void i.push("/channel/".concat(e));var e},children:Object(te.jsxs)(He.a,{className:e.channelContent,children:[Object(te.jsx)(w.a,{variant:"square",className:e.square,style:{backgroundColor:"Purple"},children:t.channelName.substr(0,1).toUpperCase()}),Object(te.jsx)(f.a,{className:e.channelText,children:t.channelName})]})})})},t.id)}))})]})},Ge=(a(163),Object(r.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:"#22273b !important",height:"100vh"}}})));var Je=function(){var e=Ge(),t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){J.onAuthStateChanged((function(e){e?(G.collection("users").doc(e.uid).get().then((function(t){if(t.exists)console.log("user exits");else{var a={name:e.displayName,displayName:e.displayName.split(" ")[0],photoURL:e.photoURL,email:e.email,uid:e.uid};G.collection("users").doc(e.uid).set(a).then((function(e){console.log("new user created")})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)})),o(e.uid)):o(null)}))}),[]),Object(te.jsx)("div",{className:"App",children:Object(te.jsx)(ue.a,{children:c?Object(te.jsxs)("div",{className:e.root,children:[Object(te.jsx)(me,{uid:c}),Object(te.jsxs)("main",{className:e.content,children:[Object(te.jsx)("div",{className:e.toolbar,style:{minHeight:"50px"}}),Object(te.jsxs)(Y.c,{children:[Object(te.jsx)(Y.a,{path:"/",exact:!0,children:Object(te.jsx)(Fe,{})}),Object(te.jsx)(Y.a,{path:"/channel/:id",children:Object(te.jsx)(Ee,{})})]})]})]}):Object(te.jsx)(Ue,{})})})},qe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,250)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),o(e),i(e)}))};i.a.render(Object(te.jsx)(c.a.StrictMode,{children:Object(te.jsx)(Je,{})}),document.getElementById("root")),qe()}},[[164,1,2]]]);
//# sourceMappingURL=main.f3486581.chunk.js.map